library(rscopus) 
library(data.table)
library(dplyr) 
#######  
api_key <- "your_API_key"
set_api_key(api_key)
journal_issn <- "1540âˆ’6261" # The journal issn

# Create query for scopus_search()
# How to write Query some information are here 
# https://dev.elsevier.com/sc_search_tips.html
queryp1="ISSN("
queryp2="\""
queryp4="\")"
queryp5="  AND  DOCTYPE(\"ar\")"
query_to_use <- paste0(queryp1,queryp2,journal_issn,queryp4,queryp5)

# Use scopus_search function
x=scopus_search(query_to_use, 
                view = "COMPLETE")
# Extract authors ids
x_raw <- gen_entries_to_df(x$entries)
x_authors_data <- x_raw$author
# au authors ids
au=x_authors_data$authid
# Remove duplicates from au
y=au[!duplicated(au)]
y=as.data.frame(y)
# Save authors ids to a csv file
file_name <- paste0("authos_id_",journal_issn,".csv")
fwrite(y, file =file_name, quote=T)


